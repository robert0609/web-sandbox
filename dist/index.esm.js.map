{"version":3,"file":"index.esm.js","sources":["../src/hackTimer.ts","../src/hackEventListener.ts","../src/globalProxy.ts","../src/index.ts"],"sourcesContent":["/*\n * @Author: bluefox\n * @Date: 2019-12-28 23:59:29\n * @Description: hack全局定时器\n */\n\nexport default function (target: Window) {\n  const originalWindowInterval = target.setInterval;\n  const originalWindowTimeout = target.setTimeout;\n\n  const timerIds: number[] = [];\n  const intervalIds: number[] = [];\n\n  const hookSetInterval = (handler: TimerHandler, timeout?: number, ...args: any[]) => {\n    const intervalId = originalWindowInterval(handler, timeout, ...args);\n    intervalIds.push(intervalId);\n    if (process.env.NODE_ENV === 'development') {\n      console.warn(`Call setInterval. intervalId: ${intervalId}`);\n    }\n    return intervalId;\n  };\n\n  const hookSetTimeout = (handler: TimerHandler, timeout?: number, ...args: any[]) => {\n    const timerId = originalWindowTimeout(handler, timeout, ...args);\n    timerIds.push(timerId);\n    if (process.env.NODE_ENV === 'development') {\n      console.warn(`Call setTimeout. timerId: ${timerId}`);\n    }\n    return timerId;\n  };\n\n  return {\n    hookSetInterval,\n    hookSetTimeout,\n    reset() {\n      timerIds.forEach(id => {\n        target.clearTimeout(id);\n        if (process.env.NODE_ENV === 'development') {\n          console.warn(`ClearTimeout. timerId: ${id}`);\n        }\n      });\n      intervalIds.forEach(id => {\n        target.clearInterval(id);\n        if (process.env.NODE_ENV === 'development') {\n          console.warn(`ClearInterval. intervalId: ${id}`);\n        }\n      });\n    }\n  };\n}\n","/*\n * @Author: bluefox\n * @Date: 2019-12-28 23:58:46\n * @Description: hack事件监听器\n */\n\nexport default function (target: EventTarget) {\n  const originalAddEventListener = target.addEventListener;\n  const originalRemoveEventListener = target.removeEventListener;\n\n  const listenerMap = new Map<string, EventListenerOrEventListenerObject[]>();\n\n  const hookAddEventListener = (\n    type: string,\n    listener: EventListenerOrEventListenerObject,\n    options?: boolean | AddEventListenerOptions,\n  ) => {\n    const listeners = listenerMap.get(type) || [];\n    listenerMap.set(type, [...listeners, listener]);\n    if (process.env.NODE_ENV === 'development') {\n      console.warn(`Call addEventListener. eventName: ${type}; eventHandler: ${listener.toString()}`);\n    }\n    return originalAddEventListener.call(target, type, listener, options);\n  };\n\n  const hookRemoveEventListener = (\n    type: string,\n    listener: EventListenerOrEventListenerObject,\n    options?: boolean | AddEventListenerOptions,\n  ) => {\n    const storedTypeListeners = listenerMap.get(type);\n    if (storedTypeListeners && storedTypeListeners.length && storedTypeListeners.indexOf(listener) !== -1) {\n      storedTypeListeners.splice(storedTypeListeners.indexOf(listener), 1);\n    }\n    if (process.env.NODE_ENV === 'development') {\n      console.warn(`Call removeEventListener. eventName: ${type}; eventHandler: ${listener.toString()}`);\n    }\n    return originalRemoveEventListener.call(target, type, listener, options);\n  };\n\n  return {\n    hookAddEventListener,\n    hookRemoveEventListener,\n    reset() {\n      listenerMap.forEach((listeners, type) =>\n        [...listeners].forEach(listener => hookRemoveEventListener(type, listener)),\n      );\n    }\n  };\n}\n","import { HtmlElementType } from \"./type\";\n\n/*\n * @Author: bluefox\n * @Date: 2019-12-28 23:58:30\n * @Description: 生成HTML元素的代理对象，包括window，document和HtmlElement\n */\nexport default function <T extends HtmlElementType>(target: T) {\n  // 沙箱期间被更新的全局变量的原始值\n  const modifiedPropsOriginalValueMapInSandbox = new Map<PropertyKey, any>();\n\n  // 沙箱期间新增的全局变量\n  const addedPropsMapInSandbox = new Map<PropertyKey, any>();\n  // 沙箱期间更新的全局变量\n  const updatedPropsMapInSandbox = new Map<PropertyKey, any>();\n\n  const originalTarget = target;\n  const fakeTarget = Object.create(null) as T;\n\n  let getProperty: null | ((originalTarget: T, p: PropertyKey) => any);\n\n  const sandbox: T = new Proxy(fakeTarget, {\n    get(_: T, p: PropertyKey): any {\n      if (getProperty) {\n        const v = getProperty(originalTarget, p);\n        if (v !== undefined) {\n          return v;\n        }\n      }\n      const v = (originalTarget as any)[p];\n      return v;\n    },\n    set(_: T, p: PropertyKey, v: any): boolean {\n      if (addedPropsMapInSandbox.has(p)) {\n        addedPropsMapInSandbox.set(p, v);\n      } else if (updatedPropsMapInSandbox.has(p)) {\n        updatedPropsMapInSandbox.set(p, v);\n      } else {\n        if (Object.prototype.hasOwnProperty.call(originalTarget, p)) {\n          modifiedPropsOriginalValueMapInSandbox.set(p, (originalTarget as any)[p]);\n          updatedPropsMapInSandbox.set(p, v);\n        } else {\n          addedPropsMapInSandbox.set(p, v);\n        }\n      }\n      (originalTarget as any)[p] = v;\n      if (process.env.NODE_ENV === 'development') {\n        let globalName = '';\n        if (target instanceof Window) {\n          globalName = 'window';\n        } else if (target instanceof Document) {\n          globalName = 'document';\n        } else if (target instanceof HTMLElement) {\n          globalName = target.tagName;\n        }\n        console.warn(`Set ${globalName}.${p.toString()} to ${v.toString()}! Original value is ${modifiedPropsOriginalValueMapInSandbox.get(p)}`);\n      }\n      return true;\n    },\n    has(_: T, p: PropertyKey): boolean {\n      return p in originalTarget;\n    }\n  });\n\n  const result = {\n    sandbox,\n    reset() {\n      addedPropsMapInSandbox.forEach((v, k) => {\n        delete (originalTarget as any)[k];\n      });\n      updatedPropsMapInSandbox.forEach((v, k) => {\n        (originalTarget as any)[k] = modifiedPropsOriginalValueMapInSandbox.get(k);\n      });\n      addedPropsMapInSandbox.clear();\n      updatedPropsMapInSandbox.clear();\n      modifiedPropsOriginalValueMapInSandbox.clear();\n    },\n    setGetProperty(cb: (originalTarget: T, p: PropertyKey) => any) {\n      getProperty = cb;\n    }\n  };\n\n  return result;\n}\n","import { ISandbox } from \"./interface/ISandbox\";\nimport hackTimer from \"./hackTimer\";\nimport hackEventListener from \"./hackEventListener\";\nimport createSandbox from './globalProxy';\n\n/*\n * @Author: bluefox\n * @Date: 2019-12-28 23:20:23\n * @Description: 浏览器端JavaScript脚本的沙盒执行环境，会记录全局变量的修改\n *               create方法返回沙盒环境，只有在调用mount挂载沙盒的时候，才会执行hack处理并且运行沙盒中的js逻辑\n */\n\nexport default {\n  create(source: string): ISandbox {\n    // 创建全局代理对象，监控全局属性的变化\n    const windowProxy = createSandbox(window);\n    const documentProxy = createSandbox(window.document);\n    const bodyProxy = createSandbox(window.document.body);\n    // 监听定时器的调用\n    const timerWatcher = hackTimer(window);\n    // 监控事件的绑定/解绑\n    const eventWatcherOfWindow = hackEventListener(window);\n    const eventWatcherOfDocument = hackEventListener(window.document);\n    const eventWatcherOfBody = hackEventListener(window.document.body);\n\n    windowProxy.setGetProperty((t, p) => {\n      if (p === 'top' || p === 'window' || p === 'self') {\n        return windowProxy.sandbox;\n      } else if (p === 'document') {\n        return documentProxy.sandbox;\n      } else if (p === 'setInterval') {\n        return timerWatcher.hookSetInterval;\n      } else if (p === 'setTimeout') {\n        return timerWatcher.hookSetTimeout;\n      } else if (p === 'addEventListener') {\n        return eventWatcherOfWindow.hookAddEventListener;\n      } else if (p === 'removeEventListener') {\n        return eventWatcherOfWindow.hookRemoveEventListener;\n      }\n    });\n    documentProxy.setGetProperty((t, p) => {\n      if (p === 'body') {\n        return bodyProxy.sandbox;\n      } else if (p === 'addEventListener') {\n        return eventWatcherOfDocument.hookAddEventListener;\n      } else if (p === 'removeEventListener') {\n        return eventWatcherOfDocument.hookRemoveEventListener;\n      }\n    });\n    bodyProxy.setGetProperty((t, p) => {\n      if (p === 'addEventListener') {\n        return eventWatcherOfBody.hookAddEventListener;\n      } else if (p === 'removeEventListener') {\n        return eventWatcherOfBody.hookRemoveEventListener;\n      }\n    });\n\n    return {\n      mount() {\n        const wrapperFunction = new Function('window', 'document', 'setInterval', 'setTimeout', source);\n        const result = wrapperFunction.call(windowProxy.sandbox, windowProxy.sandbox, documentProxy.sandbox, timerWatcher.hookSetInterval, timerWatcher.hookSetTimeout);\n        return result;\n      },\n      unmount() {\n        [ windowProxy, documentProxy, bodyProxy, timerWatcher, eventWatcherOfWindow, eventWatcherOfDocument, eventWatcherOfBody ].forEach(m => {\n          m.reset();\n        });\n      }\n    };\n  }\n};\n\n\n"],"names":["target","originalWindowInterval","setInterval","originalWindowTimeout","setTimeout","timerIds","intervalIds","hookSetInterval","handler","timeout","args","intervalId","push","process","env","NODE_ENV","console","warn","hookSetTimeout","timerId","reset","id","clearTimeout","clearInterval","originalAddEventListener","addEventListener","originalRemoveEventListener","removeEventListener","listenerMap","hookAddEventListener","type","listener","options","listeners","get","set","toString","call","hookRemoveEventListener","storedTypeListeners","length","modifiedPropsOriginalValueMapInSandbox","addedPropsMapInSandbox","updatedPropsMapInSandbox","originalTarget","fakeTarget","getProperty","sandbox","Proxy","_","p","v","undefined","has","Object","prototype","hasOwnProperty","globalName","Window","Document","HTMLElement","tagName","result","k","clear","setGetProperty","cb","create","source","windowProxy","createSandbox","window","documentProxy","document","bodyProxy","body","timerWatcher","hackTimer","eventWatcherOfWindow","hackEventListener","eventWatcherOfDocument","eventWatcherOfBody","t","mount","wrapperFunction","Function","unmount","m"],"mappings":"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"}