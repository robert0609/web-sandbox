import e from"@babel/runtime-corejs3/core-js-stable/instance/for-each";import n from"@babel/runtime-corejs3/core-js-stable/instance/concat";import t from"@babel/runtime-corejs3/core-js-stable/instance/splice";import o from"@babel/runtime-corejs3/core-js-stable/instance/index-of";import r from"@babel/runtime-corejs3/helpers/toConsumableArray";import l from"@babel/runtime-corejs3/core-js-stable/map";import a from"@babel/runtime-corejs3/core-js-stable/instance/bind";import c from"@babel/runtime-corejs3/core-js-stable/object/create";function i(a){var c=a.addEventListener,i=a.removeEventListener,s=new l,u=function(e,r,l){var c,u=s.get(e);(u&&u.length&&-1!==o(u).call(u,r)&&t(u).call(u,o(u).call(u,r),1),"development"===process.env.NODE_ENV)&&console.log(n(c="Call removeEventListener. eventName: ".concat(e,"; eventHandler: ")).call(c,r?r.toString():"null"));return i.call(a,e,r,l)};return{hookAddEventListener:function(e,t,o){var l,i,u=s.get(e)||[];(s.set(e,n(l=[]).call(l,r(u),[t])),"development"===process.env.NODE_ENV)&&console.log(n(i="Call addEventListener. eventName: ".concat(e,"; eventHandler: ")).call(i,t?t.toString():"null"));return c.call(a,e,t,o)},hookRemoveEventListener:u,reset:function(){e(s).call(s,(function(n,t){var o;return e(o=r(n)).call(o,(function(e){return u(t,e)}))}))}}}function s(t){var o,r=new l,i=new l,s=new l,u=t,v=c(null);return{sandbox:new Proxy(v,{get:function(e,n){if(o){var t=o(u,n);if(void 0!==t)return t}var r=u[n];return"function"==typeof r&&(r=a(r).call(r,u)),r},set:function(e,o,l){if(i.has(o)?i.set(o,l):s.has(o)?s.set(o,l):Object.prototype.hasOwnProperty.call(u,o)?(r.set(o,u[o]),s.set(o,l)):i.set(o,l),u[o]=l,"development"===process.env.NODE_ENV){var a,c,v,d="";t instanceof Window?d="window":t instanceof Document?d="document":t instanceof HTMLElement&&(d=t.tagName),console.log(n(a=n(c=n(v="Set ".concat(d,".")).call(v,o.toString()," to ")).call(c,l.toString(),"! Original value is ")).call(a,r.get(o)))}return!0},has:function(e,n){return n in u}}),reset:function(){e(i).call(i,(function(e,n){delete u[n]})),e(s).call(s,(function(e,n){u[n]=r.get(n)})),i.clear(),s.clear(),r.clear()},setGetProperty:function(e){o=e}}}var u={create:function(t){var o,r,l,a,c,u=s(window),v=s(window.document),d=s(window.document.body),m=(o=window,r=o.setInterval,l=o.setTimeout,a=[],c=[],{hookSetInterval:function(e,t){for(var o,l=arguments.length,a=new Array(l>2?l-2:0),i=2;i<l;i++)a[i-2]=arguments[i];var s=r.apply(void 0,n(o=[e,t]).call(o,a));return c.push(s),"development"===process.env.NODE_ENV&&console.log("Call setInterval. intervalId: ".concat(s)),s},hookSetTimeout:function(e,t){for(var o,r=arguments.length,c=new Array(r>2?r-2:0),i=2;i<r;i++)c[i-2]=arguments[i];var s=l.apply(void 0,n(o=[e,t]).call(o,c));return a.push(s),"development"===process.env.NODE_ENV&&console.log("Call setTimeout. timerId: ".concat(s)),s},reset:function(){e(a).call(a,(function(e){o.clearTimeout(e),"development"===process.env.NODE_ENV&&console.log("ClearTimeout. timerId: ".concat(e))})),e(c).call(c,(function(e){o.clearInterval(e),"development"===process.env.NODE_ENV&&console.log("ClearInterval. intervalId: ".concat(e))}))}}),f=i(window),p=i(window.document),b=i(window.document.body);return u.setGetProperty((function(e,n){return"top"===n||"window"===n||"self"===n?u.sandbox:"document"===n?v.sandbox:"setInterval"===n?m.hookSetInterval:"setTimeout"===n?m.hookSetTimeout:"addEventListener"===n?f.hookAddEventListener:"removeEventListener"===n?f.hookRemoveEventListener:void 0})),v.setGetProperty((function(e,n){return"body"===n?d.sandbox:"addEventListener"===n?p.hookAddEventListener:"removeEventListener"===n?p.hookRemoveEventListener:void 0})),d.setGetProperty((function(e,n){return"addEventListener"===n?b.hookAddEventListener:"removeEventListener"===n?b.hookRemoveEventListener:void 0})),{mount:function(){return new Function("window","document","setInterval","setTimeout","return ".concat(t)).call(u.sandbox,u.sandbox,v.sandbox,m.hookSetInterval,m.hookSetTimeout)},unmount:function(){var n;e(n=[u,v,d,m,f,p,b]).call(n,(function(e){e.reset()}))}}}};export default u;
