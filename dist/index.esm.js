import e from"@babel/runtime-corejs3/core-js-stable/instance/for-each";import n from"@babel/runtime-corejs3/core-js-stable/instance/concat";import t from"@babel/runtime-corejs3/core-js-stable/instance/splice";import o from"@babel/runtime-corejs3/core-js-stable/instance/index-of";import r from"@babel/runtime-corejs3/helpers/toConsumableArray";import a from"@babel/runtime-corejs3/core-js-stable/map";import c from"@babel/runtime-corejs3/core-js-stable/instance/bind";import l from"@babel/runtime-corejs3/core-js-stable/object/create";function i(c){var l=c.addEventListener,i=c.removeEventListener,s=new a,u=function(e,r,a){var l,u=s.get(e);(u&&u.length&&-1!==o(u).call(u,r)&&t(u).call(u,o(u).call(u,r),1),"development"===process.env.NODE_ENV)&&console.warn(n(l="Call removeEventListener. eventName: ".concat(e,"; eventHandler: ")).call(l,r.toString()));return i.call(c,e,r,a)};return{hookAddEventListener:function(e,t,o){var a,i,u=s.get(e)||[];(s.set(e,n(a=[]).call(a,r(u),[t])),"development"===process.env.NODE_ENV)&&console.warn(n(i="Call addEventListener. eventName: ".concat(e,"; eventHandler: ")).call(i,t.toString()));return l.call(c,e,t,o)},hookRemoveEventListener:u,reset:function(){e(s).call(s,(function(n,t){var o;return e(o=r(n)).call(o,(function(e){return u(t,e)}))}))}}}function s(t){var o,r=new a,i=new a,s=new a,u=t,v=l(null);return{sandbox:new Proxy(v,{get:function(e,n){if(o){var t=o(u,n);if(void 0!==t)return t}var r=u[n];return"function"==typeof r&&(r=c(r).call(r,u)),r},set:function(e,o,a){if(i.has(o)?i.set(o,a):s.has(o)?s.set(o,a):Object.prototype.hasOwnProperty.call(u,o)?(r.set(o,u[o]),s.set(o,a)):i.set(o,a),u[o]=a,"development"===process.env.NODE_ENV){var c,l,v,d="";t instanceof Window?d="window":t instanceof Document?d="document":t instanceof HTMLElement&&(d=t.tagName),console.warn(n(c=n(l=n(v="Set ".concat(d,".")).call(v,o.toString()," to ")).call(l,a.toString(),"! Original value is ")).call(c,r.get(o)))}return!0},has:function(e,n){return n in u}}),reset:function(){e(i).call(i,(function(e,n){delete u[n]})),e(s).call(s,(function(e,n){u[n]=r.get(n)})),i.clear(),s.clear(),r.clear()},setGetProperty:function(e){o=e}}}var u={create:function(t){var o,r,a,c,l,u=s(window),v=s(window.document),d=s(window.document.body),m=(o=window,r=o.setInterval,a=o.setTimeout,c=[],l=[],{hookSetInterval:function(e,t){for(var o,a=arguments.length,c=new Array(a>2?a-2:0),i=2;i<a;i++)c[i-2]=arguments[i];var s=r.apply(void 0,n(o=[e,t]).call(o,c));return l.push(s),"development"===process.env.NODE_ENV&&console.warn("Call setInterval. intervalId: ".concat(s)),s},hookSetTimeout:function(e,t){for(var o,r=arguments.length,l=new Array(r>2?r-2:0),i=2;i<r;i++)l[i-2]=arguments[i];var s=a.apply(void 0,n(o=[e,t]).call(o,l));return c.push(s),"development"===process.env.NODE_ENV&&console.warn("Call setTimeout. timerId: ".concat(s)),s},reset:function(){e(c).call(c,(function(e){o.clearTimeout(e),"development"===process.env.NODE_ENV&&console.warn("ClearTimeout. timerId: ".concat(e))})),e(l).call(l,(function(e){o.clearInterval(e),"development"===process.env.NODE_ENV&&console.warn("ClearInterval. intervalId: ".concat(e))}))}}),f=i(window),p=i(window.document),b=i(window.document.body);return u.setGetProperty((function(e,n){return"top"===n||"window"===n||"self"===n?u.sandbox:"document"===n?v.sandbox:"setInterval"===n?m.hookSetInterval:"setTimeout"===n?m.hookSetTimeout:"addEventListener"===n?f.hookAddEventListener:"removeEventListener"===n?f.hookRemoveEventListener:void 0})),v.setGetProperty((function(e,n){return"body"===n?d.sandbox:"addEventListener"===n?p.hookAddEventListener:"removeEventListener"===n?p.hookRemoveEventListener:void 0})),d.setGetProperty((function(e,n){return"addEventListener"===n?b.hookAddEventListener:"removeEventListener"===n?b.hookRemoveEventListener:void 0})),{mount:function(){return new Function("window","document","setInterval","setTimeout","return ".concat(t)).call(u.sandbox,u.sandbox,v.sandbox,m.hookSetInterval,m.hookSetTimeout)},unmount:function(){var n;e(n=[u,v,d,m,f,p,b]).call(n,(function(e){e.reset()}))}}}};export default u;
